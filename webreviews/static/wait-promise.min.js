! function(t) {
    if("object" == typeof exports && "undefined" != typeof module) module.exports = t();
    else if("function" == typeof define && define.amd) define([], t);
    else {
        var n;
        n = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this, n.wait = t()
    }
}(function() {
    return function t(n, e, i) {
        function r(o, f) {
            if(!e[o]) {
                if(!n[o]) {
                    var c = "function" == typeof require && require;
                    if(!f && c) return c(o, !0);
                    if(u) return u(o, !0);
                    var l = new Error("Cannot find module '" + o + "'");
                    throw l.code = "MODULE_NOT_FOUND", l
                }
                var s = e[o] = {
                    exports: {}
                };
                n[o][0].call(s.exports, function(t) {
                    var e = n[o][1][t];
                    return r(e ? e : t)
                }, s, s.exports, t, n, e, i)
            }
            return e[o].exports
        }
        for(var u = "function" == typeof require && require, o = 0; o < i.length; o++) r(i[o]);
        return r
    }({
        1: [function(t, n, e) {
            "use strict";

            function i(t, n, e, i) {
                this.every(t, i), this.before(n), this.after(0 | e)
            }
            i.prototype = {
                before: function(t) {
                    return this.startTime = Date.now(), this.expires = this.startTime + t, this
                },
                and: function(t) {
                    return this.routine = t, this
                },
                after: function(t) {
                    return this.afterTime = t, this
                },
                every: function(t, n) {
                    return this.interval = t, null != n && this.limit(n), this
                },
                limit: function(t) {
                    return t = t > 0 ? t : 1 / 0, this.limit = t, this
                },
                check: function(t) {
                    return t = t || function() {}, this.before(0).until(t)
                },
                till: function(t) {
                    var n = this;
                    return this.until(function() {
                        var e;
                        try {
                            return e = t(), e === !0
                        } catch(i) {
                            throw n.limit = 0, i
                        }
                    })
                },
                until: function(t) {
                    var n, e = this.interval,
                        i = this.afterTime,
                        r = this.routine,
                        u = this,
                        o = 0;
                    return new Promise(function(f, c) {
                        function l() {
                            var e, i;
                            o++, r && r();
                            try {
                                i = t()
                            } catch(l) {
                                e = l
                            } finally {
                                return Date.now() >= u.expires || o >= u.limit ? (clearInterval(n), void 0 !== e || i === !1 ? c(e || new Error("check failed")) : f(i), !0) : void 0 === e && i !== !1 ? (clearInterval(n), f(i), !0) : !1
                            }
                        }
                        setTimeout(function() {
                            l() || (n = setInterval(l, e))
                        }, i)
                    })
                }
            }, n.exports = {
                every: function(t, n) {
                    return new i(t, 1 / 0, 0, n)
                },
                and: function(t) {
                    return new i(100, 1 / 0, 0).and(t)
                },
                limit: function(t) {
                    return new i(100, 1 / 0, 0, t)
                },
                before: function(t, n) {
                    return new i(100, t, 0, n)
                },
                after: function(t) {
                    return new i(100, 1 / 0, t)
                },
                sleep: function(t) {
                    return new i(100, 1 / 0, t).check()
                },
                until: function(t) {
                    return new i(100, 1 / 0).until(t)
                },
                till: function(t) {
                    return new i(100, 1 / 0).till(t)
                },
                check: function(t) {
                    return new i(100, 0).until(t)
                }
            }
        }, {}]
    }, {}, [1])(1)
});